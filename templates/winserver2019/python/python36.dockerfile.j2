# Copyright (C) 2019-2020 Intel Corporation
# SPDX-License-Identifier: Apache-2.0
# setup Python
ARG PYTHON_VER=python3.6

{% if HTTPS_PROXY is defined %}
RUN powershell.exe -Command `
  Invoke-WebRequest -URI https://www.python.org/ftp/python/3.6.8/python-3.6.8-amd64.exe -Proxy %HTTPS_PROXY% -OutFile %TMP%\\python-3.6.exe ; `
  Start-Process %TMP%\\python-3.6.exe -ArgumentList '/passive InstallAllUsers=1 PrependPath=1 TargetDir=C:\\Python36' -Wait ; `
  Remove-Item %TMP%\\python-3.6.exe -Force
{% else %}
RUN powershell.exe -Command `
  Invoke-WebRequest -URI https://www.python.org/ftp/python/3.6.8/python-3.6.8-amd64.exe -OutFile %TMP%\\python-3.6.exe ; `
  Start-Process %TMP%\\python-3.6.exe -ArgumentList '/passive InstallAllUsers=1 PrependPath=1 TargetDir=C:\\Python36' -Wait ; `
  Remove-Item %TMP%\\python-3.6.exe -Force
{% endif %}
RUN python -m pip install --upgrade pip
RUN python -m pip install cmake wheel